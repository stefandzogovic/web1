@using Web_projekat.Models.User;
@using Web_projekat.Models;

<!DOCTYPE html>

<html lang="en">
<head>

</head>
<body>
    @foreach (User u in ViewBag.lista)
    {
    <ul class="flex-container">
        @foreach (Apartment ap in u.apartments)
        {
            <li class="flex-item">
                <div>
                    @{
                        if (ap.images != null)
                        {
                            if (ap.images.Count != 0)
                            {
                                var base64 = Convert.ToBase64String(@ap.images[0].ImageBytes);
                                var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                                <img id="img" src="@imgSrc" />
                            }
                        }
                        <div id="object">

                            <p>@ap.type for sale.</p>
                            <form method="post" action="~/Apartment/AdminInactiveApartments">
                                <input hidden name="id" value="@ap.ApartmentId" />
                                <select id="active" name="active">
                                    @if (ap.active)
                                    {
                                        <option selected value="Active">Active</option>
                                        <option value="Inactive">Inactive</option>
                                    }
                                    else
                                    {
                                        <option selected value="Inactive">Inactive</option>
                                        <option value="Active">Active</option>
                                    }
                                </select>
                                <input class="button" type="submit" value="Change" />
                            </form>
                        </div>
                    }
                </div>
            </li>
        }
    </ul>
    }

    <style>

        #img {
            width: 100%;
            height: 30%;
        }


        .flex-container {
            padding: 0 15px;
            margin: 0;
            list-style: none;
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-flex-flow: row wrap;
        }

            .flex-container > * + * {
                margin-left: 10px;
            }

        .flex-item {
            background: tomato;
            padding: 5px;
            width: 200px;
            height: 450px;
            margin-top: 10px;
            color: white;
            font-weight: bold;
            font-size: 15px;
            text-align: center;
        }
    </style>
</body>
</html>